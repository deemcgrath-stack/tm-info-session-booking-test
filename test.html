<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TM Info Session Booking</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
            gap: 20px;
        }
        
        .main-content {
            flex: 1;
            max-width: 600px;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .widget-area {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        /* Ensure Intercom widget appears in the designated area */
        #intercom-container {
            position: relative;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        
        .status-box {
            background: #e8f5e8;
            border: 1px solid #d4edda;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .test-widget-section {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        .btn:hover {
            background: #0056b3;
        }
        
        .instructions {
            background: #f8f9fa;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .terminal {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <h1>TM Info Session Booking</h1>
            <p class="subtitle">Intercom Widget Integration - Proof of Concept</p>
            
            <div class="status-box">
                <h3>Widget Status</h3>
                <p>ðŸŸ¢ Intercom widget loaded successfully</p>
                <p><strong>Page URL:</strong> https://deemcgrath-stack.github.io/intercom-widget-poc/</p>
                <p><strong>Timestamp:</strong> 8/14/2025 8:12:14 AM</p>
            </div>
            
            <div class="test-widget-section">
                <h3>Test the Chat Widget</h3>
                <p>The Intercom chat widget should appear in the bottom-right corner of your screen.</p>
                <p>If you don't see it automatically, try these test buttons:</p>
                
                <button class="btn">Force Show Widget</button>
                <button class="btn">Hide Widget</button>
                <button class="btn">Check Status</button>
            </div>
            
            <div class="instructions">
                <h3>Quick Setup Instructions</h3>
                <ol>
                    <li><strong>Replace the APP_ID:</strong> Update YOUR_APP_ID_HERE in the script below with your actual Intercom App ID</li>
                    <li><strong>Add your domain:</strong> In your Intercom dashboard, go to Settings â†’ Channels â†’ Messenger â†’ General â†’ Security and add this page's domain to trusted domains</li>
                    <li><strong>Enable the launcher:</strong> Ensure "Show the Messenger Launcher" is enabled in your Intercom</li>
                    <li><strong>Test display conditions:</strong> Temporarily remove any URL or user-based display conditions for testing</li>
                </ol>
            </div>
            
            <div class="terminal">
DEBUG information will appear here...
15:12:14 AM Starting Intercom widget initialization...
15:12:14 AM App using Intercom widget integration...
15:12:14 AM Queuing Intercom for the first time...
15:12:14 AM Calling Intercom: boot
15:12:14 AM Boot initialization complete...
15:12:14 AM Creating Intercom widget element...
15:12:14 AM Intercom script loaded successfully
15:12:14 AM Script Queries jQuery loaded successfully
15:12:14 AM Script GHE1SU Query scripts updated successfully
15:12:14 AM Manually showing Intercom widget...
15:12:14 AM Secure Data Bus...
15:12:14 AM Intercom successfully loaded...
15:12:14 AM Settings object: {"app_id":"app123zrs","api_base":"https://api
-ism.intercom.io","app":"jkl","session_duration":"30","custom":{}},
"features":{}
15:12:14 AM Got Intercom is responsive to API calls
15:12:14 AM Manually showing Intercom widget...
            </div>
        </div>
    </div>
    
    <!-- Widget area - positioned bottom right -->
    <div class="widget-area">
        <div id="intercom-container">
            <!-- Intercom widget will appear here -->
        </div>
    </div>
    
    <!-- Intercom Widget Script -->
    <script>
        window.intercomSettings = {
            app_id: "ed5jgt8o",
            api_base: "https://api-iam.eu.intercom.io"
        };
    </script>
    <script>
        (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/ed5jgt8o';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
    </script>
</body>
</html>
